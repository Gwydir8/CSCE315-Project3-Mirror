language: cpp
compiler:
  - gcc
  - clang
# Change this to your needs
before_install:
  - git reset --hard HEAD
  - git clean -fdx
  - sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
  - sudo add-apt-repository --yes ppa:kalakris/cmake
  - sudo apt-get update -qq
  - if [ "$CXX" = "g++" ]; then sudo apt-get install -qq g++-4.8; fi
  - if [ "$CXX" = "g++" ]; then export CXX="g++-4.8" CC="gcc-4.8"; fi
  - sudo apt-get install -y cmake
  - sudo apt-get install -y build-essential
  - sudo pip install cpp-coveralls
  # - wget --quiet http://ftp.ussg.iu.edu/linux/ubuntu/pool/main/g/gflags/libgflags2_2.0-1.1ubuntu1_i386.deb
  # - wget --quiet http://ftp.ussg.iu.edu/linux/ubuntu/pool/main/g/gflags/libgflags-dev_2.0-1.1ubuntu1_i386.deb
  # - sudo dpkg -i libgflags2_2.0-1.1ubuntu1_i386.deb
  # - sudo dpkg -i libgflags-dev_2.0-1.1ubuntu1_i386.deb
#  sudo apt-get install libgflags-dev
install:
  - cd eugenics-system
  - ./share/scripts/install-gflags.sh
  - cd ..
script:
  - rm -rf build debug
  - ./build.sh && ./build/eugenics/eugenics
notifications:
  webhooks:
    urls: https://webhooks.gitter.im/e/858af2534ce0db2cdbbd
    on_success: always
    on_failure: always
